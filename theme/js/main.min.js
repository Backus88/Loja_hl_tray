/**
 * @theme Default-Patners
 * @version 0.0.1
 * @author Tray
 * @site https://www.tray.com.br/
 */

(o=>{window.theme={...window.theme,settings:{lastScrollPosition:0},openApplyOverlayClose:function(){o('[data-toggle="closed"]').on("click",(function(){o(o(this).data("target")).addClass("u-show").attr("data-toggle","open"),o('[data-overlay="shadow"]').addClass("u-show"),o("body").addClass("overflowed")})),o('[data-overlay="shadow"]').on("click",(function(){o('[data-toggle="open"]').removeClass("u-show").removeAttr("data-toggle"),o('[data-overlay="shadow"]').removeClass("u-show"),o("body").removeClass("overflowed")})),o('[data-toggle="close"]').on("click",(function(){o('[data-overlay="shadow"]').trigger("click")}))},scrollHidesMenu:function(){let e=o('[data-header="scroll"]'),t=o('[data-header="scroll"]').outerHeight()+20,l=o(window).scrollTop()-20;console.log(l),l>this.settings.lastScrollPosition||l<t?e.addClass("u-effectHeader"):l>t&&l<this.settings.lastScrollPosition&&e.removeClass("u-effectHeader"),this.settings.lastScrollPosition=l},getScroll:function(){let e=this;o(window).on("scroll",(function(){e.scrollHidesMenu()}))}},o(()=>{theme.getScroll(),setTimeout(()=>{theme.openApplyOverlayClose(),theme.scrollHidesMenu()},20)})})(jQuery);